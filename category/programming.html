<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Jepio's blog - programming</title>
        <link rel="stylesheet" href="//jepio.github.io/theme/css/main.css" />
        <link href="//jepio.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jepio's blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="//www.github.com/jepio/jepio.github.io">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="//jepio.github.io/">Jepio's blog </a></h1>
                <nav><ul>
                    <li><a href="//jepio.github.io/category/misc.html">misc</a></li>
                    <li class="active"><a href="//jepio.github.io/category/programming.html">programming</a></li>
                    <li><a href="//jepio.github.io/category/shell.html">shell</a></li>
                    <li><a href="//jepio.github.io/category/technology.html">technology</a></li>
                    <li><a href="//jepio.github.io/category/test.html">test</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="//jepio.github.io/threads-are-processes.html">Threads are processes</a></h1>
<footer class="post-info">
        <abbr class="published" title="2015-09-22T13:12:00+02:00">
                Published: Tue 22 September 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="//jepio.github.io/author/jepio.html">Jepio</a>
        </address>
<p>In <a href="//jepio.github.io/category/programming.html">programming</a>.</p>

</footer><!-- /.post-info --><p>The standard thread implementation on linux is <code>pthreads</code> and processes can
easily be created by issuing a <code>fork</code> function call. While I was studying
processes recently and reading the man pages for <code>clone</code> I found two important
pieces of information:</p>
<ul>
<li>threads are commonly implemented using <code>clone</code>.</li>
<li>the fork function calls the <code>clone</code> syscall.</li>
</ul>
<p>The conclusion from these is that on linux <strong>threads == processes</strong>. So threads
are in reality <em>processes</em> with a shared address space and processes are really
<em>processes</em> with COW<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup> pages. You can find confirmation in many answers on
stackoverflow <a href="https://stackoverflow.com/questions/807506/threads-vs-processes-in-linux">such as this one</a>.</p>
<p>To me this is amazing, and kudos to the kernel devs for deciding that the two
can be implemented in the same way and for optimizing this one path to where
we are now.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p><strong>C</strong>opy <strong>O</strong>n <strong>W</strong>rite which makes spawning cheap to do.&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="//jepio.github.io/push-rbp-mov-rsprbp.html" rel="bookmark"
                           title="Permalink to push %rbp; mov %rsp,%rbp">push %rbp; mov %rsp,%rbp</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-09-22T08:57:00+02:00">
                Published: Tue 22 September 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="//jepio.github.io/author/jepio.html">Jepio</a>
        </address>
<p>In <a href="//jepio.github.io/category/programming.html">programming</a>.</p>

</footer><!-- /.post-info -->                <p>There. Do I have your attention? With this post my intention is to finally
figure out what this pair of instructions actually mean. I mean, they show up
everywhere. To do this I'd like to deal with a simple C example.</p>
<div class="highlight"><pre><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i ...</span></pre></div>
                <a class="readmore" href="//jepio.github.io/push-rbp-mov-rsprbp.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="//jepio.github.io/dynamic-linking-and-the-runpath.html" rel="bookmark"
                           title="Permalink to Dynamic linking and the RUNPATH">Dynamic linking and the RUNPATH</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-09-21T13:18:00+02:00">
                Published: Mon 21 September 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="//jepio.github.io/author/jepio.html">Jepio</a>
        </address>
<p>In <a href="//jepio.github.io/category/programming.html">programming</a>.</p>

</footer><!-- /.post-info -->                <p>If you want to have binaries and libraries portable across linux systems, or
even portable across locations on your filesystem, you need to know a bit about
dynamic linking.</p>
<p>First read <code>man ld.so</code>, this will tell you about where libraries are looked up
when they are being searched for ...</p>
                <a class="readmore" href="//jepio.github.io/dynamic-linking-and-the-runpath.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="//jepio.github.io/where-the-hell-is-the-vectorization-report.html" rel="bookmark"
                           title="Permalink to Where the hell is the vectorization report?">Where the hell is the vectorization report?</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-06-13T14:22:00+02:00">
                Published: Sat 13 June 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="//jepio.github.io/author/jepio.html">Jepio</a>
        </address>
<p>In <a href="//jepio.github.io/category/programming.html">programming</a>.</p>

</footer><!-- /.post-info -->                <p>Everyone should care about vectorization. It's relatively easy for the compiler
to do on it's own compared to stuff like auto-parallelisation, and can yield
high performance gains on certain parts of the code. The win can be anything
from 2x to 8x, depending on what data type we ...</p>
                <a class="readmore" href="//jepio.github.io/where-the-hell-is-the-vectorization-report.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="//jepio.github.io/bashs-here-documents.html" rel="bookmark"
                           title="Permalink to Bash's here documents">Bash's here documents</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-06-03T11:11:00+02:00">
                Published: Wed 03 June 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="//jepio.github.io/author/jepio.html">Jepio</a>
        </address>
<p>In <a href="//jepio.github.io/category/programming.html">programming</a>.</p>

</footer><!-- /.post-info -->                <p>I'm just about to finish reading the fantastic essay by Neal Stephanson entitled
"<em>In the Beginning was the Command Line</em>" and I stumbled upon this quote:</p>
<blockquote>
<p>Unix is hard to learn. The process of learning it is one of multiple small
epiphanies. Typically you are just on the verge ...</p></blockquote>
                <a class="readmore" href="//jepio.github.io/bashs-here-documents.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="//jepio.github.io/first-code-sample.html" rel="bookmark"
                           title="Permalink to First code sample">First code sample</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-03-10T17:46:00+01:00">
                Published: Tue 10 March 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="//jepio.github.io/author/jepio.html">Jepio</a>
        </address>
<p>In <a href="//jepio.github.io/category/programming.html">programming</a>.</p>

</footer><!-- /.post-info -->                <p>I'm trying out the syntax highlighting extension to markdown available in
pelican. Here it goes</p>
<div class="highlight"><pre><span class="cp">#include &lt;vector&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">vector</span> <span class="n">c</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">};</span>
    <span class="k">for</span> <span class="p">(</span><span class="k">auto</span><span class="o">&amp;&amp;</span> <span class="nl">e</span> <span class="p">:</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">e</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">c</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>


<p>Now let's see how this looks.</p>
                <a class="readmore" href="//jepio.github.io/first-code-sample.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="//getpelican.com/">Pelican</a></li>
                            <li><a href="//python.org/">Python.org</a></li>
                            <li><a href="//jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="//jepio.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="//github.com/jepio">github</a></li>
                            <li><a href="//twitter.com/jeremip">twitter</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>