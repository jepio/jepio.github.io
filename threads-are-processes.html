<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Threads are processes</title>
        <link rel="stylesheet" href="//jepio.github.io/theme/css/main.css" />
        <link href="//jepio.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Jepio's blog Atom Feed" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
<a href="//www.github.com/jepio/jepio.github.io">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="//jepio.github.io/">Jepio's blog </a></h1>
                <nav><ul>
                    <li><a href="//jepio.github.io/category/misc.html">misc</a></li>
                    <li class="active"><a href="//jepio.github.io/category/programming.html">programming</a></li>
                    <li><a href="//jepio.github.io/category/shell.html">shell</a></li>
                    <li><a href="//jepio.github.io/category/technology.html">technology</a></li>
                    <li><a href="//jepio.github.io/category/test.html">test</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="//jepio.github.io/threads-are-processes.html" rel="bookmark"
           title="Permalink to Threads are processes">Threads are processes</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-09-22T13:12:00+02:00">
                Published: Tue 22 September 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="//jepio.github.io/author/jepio.html">Jepio</a>
        </address>
<p>In <a href="//jepio.github.io/category/programming.html">programming</a>.</p>

</footer><!-- /.post-info -->      <p>The standard thread implementation on linux is <code>pthreads</code> and processes can
easily be created by issuing a <code>fork</code> function call. While I was studying
processes recently and reading the man pages for <code>clone</code> I found two important
pieces of information:</p>
<ul>
<li>threads are commonly implemented using <code>clone</code>.</li>
<li>the fork function calls the <code>clone</code> syscall.</li>
</ul>
<p>The conclusion from these is that on linux <strong>threads == processes</strong>. So threads
are in reality <em>processes</em> with a shared address space and processes are really
<em>processes</em> with COW<sup id="fnref:1"><a class="footnote-ref" href="#fn:1" rel="footnote">1</a></sup> pages. You can find confirmation in many answers on
stackoverflow <a href="https://stackoverflow.com/questions/807506/threads-vs-processes-in-linux">such as this one</a>.</p>
<p>To me this is amazing, and kudos to the kernel devs for deciding that the two
can be implemented in the same way and for optimizing this one path to where
we are now.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p><strong>C</strong>opy <strong>O</strong>n <strong>W</strong>rite which makes spawning cheap to do.&#160;<a class="footnote-backref" href="#fnref:1" rev="footnote" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="//getpelican.com/">Pelican</a></li>
                            <li><a href="//python.org/">Python.org</a></li>
                            <li><a href="//jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="//jepio.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="//github.com/jepio">github</a></li>
                            <li><a href="//twitter.com/jeremip">twitter</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="https://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="https://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>